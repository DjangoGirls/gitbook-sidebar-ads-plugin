{% extends template.self %}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" 
rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" 
integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

{% block book_sidebar %}
  {{ super() }}
  <div class="sidebar-addition">
    {% if config.pluginsConfig['sidebar-ads'].ads %}  
    <div id="carouselAd" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselAd" data-bs-slide-to="0" class="active" aria-current="true" ></button>
        <!-- for loop to use indexes as slide numbers-->  
        {% for i in array %}
        <button type="button" data-bs-target="#carouselAd" data-bs-slide-to="{{ i }}"></button>
        {% endfor %}
      </div>
      <div class="carousel-inner">
        {% for ad in config.pluginsConfig['sidebar-ads'].ads %}
        <div class="carousel-item">
          {% if ad.url %}
            <a href="{{ ad.url }}" target="_blank">
          {% endif %}
            <img src="{{ ad.imageUrl }}">
          {% if ad.url %}
            </a>
          {% endif %}
          {% if ad.description %}
          <p>{{ ad.description }}</p>
          {% endif %}
          {% if ad.btnText %}
          <a href="{{ ad.url }}" class="btn" target="_blank">
            {{ ad.btnText }}
          </a>
          {% endif %} 
        </div>
        {% endfor %}
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselAd" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselAd" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
    {% endif %}
  </div>

{% endblock %}



